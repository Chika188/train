import{u as x,a as f,r as m,j as e,C as j,R as y,b as N,F as l,f as v,c as b,d as w,e as R}from"./index-CJBxyOYk.js";import"./vendor-Csw2ODfV.js";function B(){const d=x(),o=f(),[h,n]=m.useState([]);m.useEffect(()=>{const s=new URLSearchParams(o.search);let a=null,r=null;try{s.get("player1")&&s.get("player2")&&(a=JSON.parse(decodeURIComponent(atob(s.get("player1")))),r=JSON.parse(decodeURIComponent(atob(s.get("player2")))))}catch{a=null,r=null}(!a||!r)&&(a=JSON.parse(localStorage.getItem("player1Data")||"{}"),r=JSON.parse(localStorage.getItem("player2Data")||"{}"));const p=(t,i)=>{const c=Number(t.public_repos)-Number(i.public_repos);return c!==0?c:Number(t.followers)-Number(i.followers)},u=[a,r].map(t=>({...t,isWinner:p(t,t===a?r:a)>0}));n(u)},[o.search]);const g=()=>{d("/battle"),n([])};return e.jsxs("div",{className:"battle-result-container",children:[e.jsx(j,{}),e.jsx("div",{className:"Battle-result",children:e.jsx(y,{children:h.map(s=>e.jsx(N,{xs:24,sm:12,children:e.jsxs("div",{className:"project-card project-card-battle",children:[e.jsxs("div",{className:"project-rank",style:{marginBottom:10},children:[" ",s.isWinner?"Winner":"Loser"]}),e.jsx("img",{src:s.avatar_url,alt:s.name,loading:"lazy",className:"project-image"}),e.jsxs("h4",{className:"project-name",style:{marginBottom:0},children:["Scores: ",s.public_repos]}),e.jsx("h3",{className:"project-name",style:{color:"#0396ff"},children:s.name||"Unknown"}),e.jsxs("div",{className:"stats",children:[e.jsxs("div",{children:[e.jsx(l,{icon:v,style:{color:"#666",marginRight:8,width:14,height:14}}),s.location||"Unknown"]}),e.jsxs("div",{children:[e.jsx(l,{icon:b,style:{color:"#ffd700",marginRight:8,width:14,height:14}}),s.followers]}),e.jsxs("div",{children:[e.jsx(l,{icon:w,style:{color:"#2ecc71",marginRight:8,width:14,height:14}}),s.following]}),e.jsxs("div",{children:[e.jsx(l,{icon:R,style:{color:"#e74c3c",marginRight:8,width:14,height:14}}),s.public_repos]})]})]},s.id)},s.id))})}),e.jsx("div",{className:"Battle-reset",onClick:g,children:"RESET"})]})}export{B as default};
